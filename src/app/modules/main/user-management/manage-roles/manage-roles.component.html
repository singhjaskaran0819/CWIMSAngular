<div class="page-wrapper">
  <div class="page-breadcrumb">
    <div class="d-flex justify-content-between align-items-center flex-md-row flex-column-reverse">
      <ol class="list-unstyled d-flex align-items-center breadcrumb">
        <li class="breadcrumb-item">
          <h3 class="page-title text-capitalize">Roles</h3>
        </li>
      </ol>

      <div class="d-flex justify-content-end top_btns">
        <button class="btn btn-md btn-primary" (click)="createRole()" *ngIf="checkPermission('create-role')">New
          Role</button>
      </div>
    </div>
  </div>
  <!-- Breadcrumb -->

  <div class="panel_box">
    <div class="table-responsive">
      <table class="table custom_table">
        <thead>
          <tr>
            <th>Role </th>
            <th>Role Id</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="roleList?.length> 0; else no_data">
            <tr *ngFor="let role of roleList; let i = index;">
              <td>{{ role?.title }}</td>
              <td><a> {{ role?.id }} </a></td>

              <td>
                <div class="dropdown dots_btn" id="Div1">
                  <button class="btn-transparent p-0 dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="../assets/img/icons/dots_icons.svg" alt="" />
                  </button>
                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="javascript:void(0)" (click)="viewPermissions(role?.id)"><i
                        class="mr-1"><img src="../assets/img/icons/view_icon.svg" alt="" /></i>
                      View</a>
                    <a class="dropdown-item" href="javascript:void(0)" *ngIf="checkPermission('update-role')"
                      (click)="updatePermissions(role?.id, role?.title) "><i class="mr-1"><img
                          src="../assets/img/icons/edit_icon.svg" alt="" /></i>
                      Update </a>
                    <a class="dropdown-item" href="javascript:void(0)" (click)="deleteRole(role?.id, role?.title)"
                      *ngIf="checkPermission('delete-role')"><i class="mr-1"><img
                          src="../assets/img/icons/delete_icon.svg" alt="" /></i>
                      Delete</a>
                  </div>
                </div>
              </td>
            </tr>
          </ng-container>

        </tbody>
      </table>
    </div>
    <!-- End Table Listing -->
  </div>
</div>

<ng-template #no_data>
  <tr>
    <td colspan="5">
      <div class="no-record">
        No record found
      </div>
    </td>
  </tr>
</ng-template>